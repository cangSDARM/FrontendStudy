- [局部光照模型](#局部光照模型)
  - [传统光照模型](#传统光照模型)
    - [Ambient](#ambient)
    - [Diffuse](#diffuse)
    - [Specular](#specular)
- [全局光照模型](#全局光照模型)

## 局部光照模型

### 传统光照模型
传统光照模型认为物体表面光照由三部分组成:

- 环境光(Ambient)：场景中的其他间接光照
- 漫反射(Diffuse)：散射部分（大但不光亮）
- 高光反射(Specular)：镜面反射部分（小而亮）

$L = L_a + L_d + L_s$

#### Ambient

$L_a = (K_a \times I_a)$

- $K_a$ 为环境光系数（常数）
- $I_a$ 为环境光强度（RGB）

#### Diffuse

##### Lambert

只考虑漫反射（暗部看起来太平）

$L_d = K_d \times (I / r^2) \times \max(N * L, 0)$

- $K_d$: 材质漫反射系数（漫反射遮罩 RGB）
- I: 光源强度（光的 RGB）
- r: 光源与物体表面距离，模拟光衰减。如平行光不需要考虑衰减时，公式可以简化为 $\times I$
- N: 表面的法线向量方向（归一化）
- L: 表面指向光源的向量（归一化）

##### Half Lambert

增加进光量（溢出部分颜色到暗部）

将 Lambert 的 $\max(N * L, 0)$ 修改映射范围为 $[\max(N * L, 0) \times 0.5 + 0.5]^2$

#### Specular

##### Phong

强调局部光照效果（反射总是圆形、高光边缘锐利）

$L_s = K_s \times (I_s / r^2) \times [\max(V * R, 0)]^p$

- $K_s$ 为高光系数（常数）
- $I_s$ 为高光强度（RGB）
- r: 光源与物体表面距离，模拟光衰减。如平行光不需要考虑衰减时，公式可以简化为 $\times I$
- R: 光源在物体表面某点发生镜面反射的方向（归一化）
- V: 物体表面某点指向摄像机位置的向量（归一化）
- p: 材质的光泽度，或叫反光度（常数）。表面越光泽则 p 越大，表面的亮点就越小

##### Blinn-Phong

使得高光更为平滑

将 Phong 的 $V * R$ 修改为 $N * H, (H = \frac{V + L}{\lVert V + L \rVert})$

- H: $V, L$的半程向量（摄像机、光源的中间向量）
- N: 表面的法线向量方向（归一化）
- L: 表面指向光源的向量（归一化）

## 全局光照模型
