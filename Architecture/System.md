# 系统架构

## 可扩展性

## 性能

可用指标:

- 响应时间: 指从发出请求开始到收到最后响应数据所需要的时间。**反映系统快慢**
  - 延迟
- 并发数: 系统同时处理的请求数。**反映系统负载**
- 吞吐量: 单位时间内，系统处理请求的数量。**体现系统处理能力**
  - HTTP 请求数: HPS (http-request per sec)
  - 每秒事务数: TPS
  - 每秒查询数: QPS

实践:

- 纵向性能
  - 异步(MQ)设计
  - 缓存层
  - 代码优化
- 横向性能
  - 分布式(数据库、MQ、文件、服务器)
  - 负载均衡
- 性能监控

## 可用性

> 系统不会发生故障的概率<br>
> Reliability = uptime / (uptime + downtime)

一般说可用性是多少个 9: 2 个 9 = 99%; 3 个 9 = 99.9%

可用性一般用于定义 SLO(等效意义)

- SLA = Service Level Agreement = 服务水平协议(对外承诺, SLO 的 try/catch)
- SLO = Service Level Objective = 服务水平目标(对内产品目标)
- SLI = Services Level Indicator = 服务水平指标(对内产品服务质量评价指标)

实践:

- 提供系统冗余性
  - 数据库主从复制
- 增加容错可能性
  - 失败隔离
  - 限流降级
- 增加可用性监控

## 安全性
